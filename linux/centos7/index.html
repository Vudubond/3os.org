



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="CentOS 7 Guides, Examples and Usage">
      
      
        <link rel="canonical" href="https://3os.org/linux/centos7/">
      
      
        <meta name="author" content="Stas Kosatuhin">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-\.]+">
      
      <link rel="shortcut icon" href="/assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Linux - CentOS 7 Guides, Examples and Usage</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-122318911-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#centos_7" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://3os.org/" title="3os.org" aria-label="3os.org" class="md-header-nav__button md-logo">
          
            <i class="md-icon">donut_small</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              3os.org
            </span>
            <span class="md-header-nav__topic">
              
                Linux - CentOS 7 Guides, Examples and Usage
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/fire1ce/3os.org/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    fire1ce/3os.org
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../guides/BetterTerminal/" class="md-tabs__link">
          Guides & Tools
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../general/general/" class="md-tabs__link md-tabs__link--active">
          Linux
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../macOS/general/" class="md-tabs__link">
          macOS
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../raspberryPi/piGeneral/" class="md-tabs__link">
          Raspberry Pi
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../development/git/" class="md-tabs__link">
          Development
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../windows/windowsGeneral/" class="md-tabs__link">
          Windows
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../penTesting/general/" class="md-tabs__link">
          Penetration-Testing
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../markdownCheatSheet/welcome/" class="md-tabs__link">
          Markdown CheatSheet
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://3os.org/" title="3os.org" class="md-nav__button md-logo">
      
        <i class="md-icon">donut_small</i>
      
    </a>
    3os.org
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/fire1ce/3os.org/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    fire1ce/3os.org
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CHANGELOG/" title="Changelog" class="md-nav__link">
      Changelog
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../donation/" title="Donate" class="md-nav__link">
      Donate
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Guides & Tools
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Guides & Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/BetterTerminal/" title="Better Terminal Experience" class="md-nav__link">
      Better Terminal Experience
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/pihole_dns/" title="Pi-Hole With DNS Over HTTPS" class="md-nav__link">
      Pi-Hole With DNS Over HTTPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/synology/" title="Synology DSM" class="md-nav__link">
      Synology DSM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/wifiQrGenerator/" title="Wifi QR Image Generator" class="md-nav__link">
      Wifi QR Image Generator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/ubiquiti/" title="Ubiquiti EdgeRouter & Unifi" class="md-nav__link">
      Ubiquiti EdgeRouter & Unifi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/gmailMarkAsRead/" title="Gmail Markas Read" class="md-nav__link">
      Gmail Markas Read
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspberryPi/TOR-Pi/" title="Raspberry Pi 3 Tor Access Point" class="md-nav__link">
      Raspberry Pi 3 Tor Access Point
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guides/usefulLinks_Tools/" title="Useful Links & Tools" class="md-nav__link">
      Useful Links & Tools
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Linux
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Linux
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../general/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../SSH_Service_Security/" title="SSH Service Security" class="md-nav__link">
      SSH Service Security
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Centos 7
      </label>
    
    <a href="./" title="Centos 7" class="md-nav__link md-nav__link--active">
      Centos 7
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing_network_tools" class="md-nav__link">
    Installing Network Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop_and_disable_firewall_on_centos_7" class="md-nav__link">
    Stop and Disable Firewall on Centos 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change_default_port_for_ssh_with_selinux_enabled" class="md-nav__link">
    Change Default Port for SSH with SElinux Enabled
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable_selinux_on_centos_7" class="md-nav__link">
    Disable SELinux on CentOS 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling_automatic_updates_in_centos_7_rhel_7" class="md-nav__link">
    Enabling Automatic Updates In Centos 7 &amp; rhel 7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install_yum-cron" class="md-nav__link">
    Install yum-cron
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_yum-cron_for_auto-update" class="md-nav__link">
    Configure yum-cron for auto-update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yum-cron_service_startstopstatusenable_on_boot" class="md-nav__link">
    Yum-Cron Service: Start/Stop/Status/Enable on Boot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fix_locals_error_in_bash" class="md-nav__link">
    Fix Locals Error In Bash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable_ipv6" class="md-nav__link">
    Disable IPv6
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fix_nfs_mount_on_boot_-_centos_7" class="md-nav__link">
    Fix NFS mount on Boot - Centos 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set_timezone" class="md-nav__link">
    Set TimeZone
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove_old_kernels" class="md-nav__link">
    Remove Old Kernels
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure_yum_to_auto-remove_old_kernels" class="md-nav__link">
    Configure yum to auto-remove old kernels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../centos8/" title="Centos 8" class="md-nav__link">
      Centos 8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ubuntu/" title="Ubuntu" class="md-nav__link">
      Ubuntu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../general/files/" title="Files" class="md-nav__link">
      Files
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../general/memorySwap/" title="Memory & Swap" class="md-nav__link">
      Memory & Swap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lvm/" title="Linux LVM Partitions" class="md-nav__link">
      Linux LVM Partitions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-9" type="checkbox" id="nav-5-9">
    
    <label class="md-nav__link" for="nav-5-9">
      Linux Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-9">
        Linux Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../services/cpanel/" title="cPanel & WHM" class="md-nav__link">
      cPanel & WHM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/csf/" title="CSF Firewall" class="md-nav__link">
      CSF Firewall
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/nginx/" title="Nginx" class="md-nav__link">
      Nginx
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/apache/" title="Apache" class="md-nav__link">
      Apache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/sophos/" title="Sophos Firewall" class="md-nav__link">
      Sophos Firewall
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/wordpress/" title="Wordpress" class="md-nav__link">
      Wordpress
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/esxi/" title="Esxi" class="md-nav__link">
      Esxi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../services/plesk/" title="Plesk" class="md-nav__link">
      Plesk
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      macOS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        macOS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../macOS/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macOS/ui/" title="UI Tweaks" class="md-nav__link">
      UI Tweaks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macOS/system/" title="System Tweaks" class="md-nav__link">
      System Tweaks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macOS/applications/" title="Applications Tweaks" class="md-nav__link">
      Applications Tweaks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../macOS/brewup/" title="BrewUp - macOS Auto Update" class="md-nav__link">
      BrewUp - macOS Auto Update
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Raspberry Pi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Raspberry Pi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspberryPi/piGeneral/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspberryPi/TOR-Pi/" title="Raspberry Pi 3 Tor Access Point" class="md-nav__link">
      Raspberry Pi 3 Tor Access Point
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspberryPi/MagicMirror/" title="Raspberry Pi Magic Mirror" class="md-nav__link">
      Raspberry Pi Magic Mirror
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/git/" title="Git" class="md-nav__link">
      Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/dockerGeneral/" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/python/" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/ruby/" title="Ruby" class="md-nav__link">
      Ruby
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/npm/" title="npm & node" class="md-nav__link">
      npm & node
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/dockerContainers/" title="Personal Docker Containers" class="md-nav__link">
      Personal Docker Containers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Windows
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Windows
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows/windowsGeneral/" title="Windows General" class="md-nav__link">
      Windows General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../windows/windowsGuides/" title="Windows Guides and How-To" class="md-nav__link">
      Windows Guides and How-To
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Penetration-Testing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Penetration-Testing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../penTesting/general/" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../penTesting/iddGenerator/" title="IDD Generator & Validator" class="md-nav__link">
      IDD Generator & Validator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../penTesting/clickJacking/" title="Click-Jacking Test" class="md-nav__link">
      Click-Jacking Test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../penTesting/androidPT/" title="Android Penetration Testing" class="md-nav__link">
      Android Penetration Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../penTesting/kaliLinux/" title="Kali Linux Modifications" class="md-nav__link">
      Kali Linux Modifications
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Markdown CheatSheet
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Markdown CheatSheet
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/welcome/" title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/headings/" title="Headings" class="md-nav__link">
      Headings
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/emphasis/" title="Emphasis" class="md-nav__link">
      Emphasis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/lineBreaks/" title="Line Breaks" class="md-nav__link">
      Line Breaks
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/lists/" title="Lists" class="md-nav__link">
      Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/tables/" title="Tables" class="md-nav__link">
      Tables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/links/" title="Links" class="md-nav__link">
      Links
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/images/" title="Images" class="md-nav__link">
      Images
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/admonition/" title="Admonition" class="md-nav__link">
      Admonition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/blockQuotes/" title="Block Quotes" class="md-nav__link">
      Block Quotes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/emoji/" title="Emojis List" class="md-nav__link">
      Emojis List
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-12" type="checkbox" id="nav-11-12">
    
    <label class="md-nav__link" for="nav-11-12">
      Embed External Sources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-12">
        Embed External Sources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/embedGists/" title="Gists" class="md-nav__link">
      Gists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/embedYouTubeVideos/" title="YouTube Videos" class="md-nav__link">
      YouTube Videos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/embedLucidChart/" title="Lucid Chart" class="md-nav__link">
      Lucid Chart
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/template/" title="Simple Template" class="md-nav__link">
      Simple Template
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-14" type="checkbox" id="nav-11-14">
    
    <label class="md-nav__link" for="nav-11-14">
      Extra
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-14">
        Extra
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../markdownCheatSheet/metaData/" title="Metadata Per Page" class="md-nav__link">
      Metadata Per Page
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing_network_tools" class="md-nav__link">
    Installing Network Tools
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop_and_disable_firewall_on_centos_7" class="md-nav__link">
    Stop and Disable Firewall on Centos 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change_default_port_for_ssh_with_selinux_enabled" class="md-nav__link">
    Change Default Port for SSH with SElinux Enabled
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable_selinux_on_centos_7" class="md-nav__link">
    Disable SELinux on CentOS 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enabling_automatic_updates_in_centos_7_rhel_7" class="md-nav__link">
    Enabling Automatic Updates In Centos 7 &amp; rhel 7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install_yum-cron" class="md-nav__link">
    Install yum-cron
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configure_yum-cron_for_auto-update" class="md-nav__link">
    Configure yum-cron for auto-update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yum-cron_service_startstopstatusenable_on_boot" class="md-nav__link">
    Yum-Cron Service: Start/Stop/Status/Enable on Boot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fix_locals_error_in_bash" class="md-nav__link">
    Fix Locals Error In Bash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable_ipv6" class="md-nav__link">
    Disable IPv6
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fix_nfs_mount_on_boot_-_centos_7" class="md-nav__link">
    Fix NFS mount on Boot - Centos 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set_timezone" class="md-nav__link">
    Set TimeZone
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remove_old_kernels" class="md-nav__link">
    Remove Old Kernels
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure_yum_to_auto-remove_old_kernels" class="md-nav__link">
    Configure yum to auto-remove old kernels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/fire1ce/3os.org/edit/master/src/linux/centos7.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="centos_7">CentOS 7<a class="headerlink" href="#centos_7" title="Permanent link">&para;</a></h1>
<p>`</p>
<h2 id="installing_network_tools">Installing Network Tools<a class="headerlink" href="#installing_network_tools" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>yum install net-tools -y
</code></pre></div>

<h2 id="stop_and_disable_firewall_on_centos_7">Stop and Disable Firewall on Centos 7<a class="headerlink" href="#stop_and_disable_firewall_on_centos_7" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>systemctl stop firewalld
systemctl disable firewalld
</code></pre></div>

<h2 id="change_default_port_for_ssh_with_selinux_enabled">Change Default Port for SSH with SElinux Enabled<a class="headerlink" href="#change_default_port_for_ssh_with_selinux_enabled" title="Permanent link">&para;</a></h2>
<p>you will need semanage, find what package contains it:</p>
<div class="codehilite"><pre><span></span><code>yum whatprovides /usr/sbin/semanage
</code></pre></div>

<p>Usually it's <em>policycoreutils-python</em></p>
<div class="codehilite"><pre><span></span><code>yum install policycoreutils-python
</code></pre></div>

<p>Add new allowed port for SSH for SElinux</p>
<div class="codehilite"><pre><span></span><code>semanage port -a -t ftp_port_t -p tcp &lt;YOUR PORT&gt;
</code></pre></div>

<h2 id="disable_selinux_on_centos_7">Disable SELinux on CentOS 7<a class="headerlink" href="#disable_selinux_on_centos_7" title="Permanent link">&para;</a></h2>
<p>change <strong>SELINUX=enforcing</strong> to <strong>SELINUX=disabled</strong></p>
<div class="codehilite"><pre><span></span><code>sudo nano /etc/selinux/config
</code></pre></div>

<p>reboot.</p>
<p>Check status</p>
<div class="codehilite"><pre><span></span><code>sestatus
</code></pre></div>

<h2 id="enabling_automatic_updates_in_centos_7_rhel_7">Enabling Automatic Updates In Centos 7 &amp; rhel 7<a class="headerlink" href="#enabling_automatic_updates_in_centos_7_rhel_7" title="Permanent link">&para;</a></h2>
<h3 id="install_yum-cron">Install yum-cron<a class="headerlink" href="#install_yum-cron" title="Permanent link">&para;</a></h3>
<p>The package that allows us to do automatic updates via yum is yum-cron, to do this just open a terminal as root and run the command:</p>
<div class="codehilite"><pre><span></span><code>yum -y install yum-cron
</code></pre></div>

<p>This will install the yum-cron package, now it’s time to configure it, the default configuration file it’s /etc/yum/yum-cron.conf.</p>
<h3 id="configure_yum-cron_for_auto-update">Configure yum-cron for auto-update<a class="headerlink" href="#configure_yum-cron_for_auto-update" title="Permanent link">&para;</a></h3>
<p>As you can see the default it’s to upgrade all your packages, the same you’d obtain with the command yum upgrade, but there are also other options and now you can decide to just do security upgrade or even just the most critical security, this add a lot of flexibility and options.</p>
<div class="codehilite"><pre><span></span><code>#  What kind of update to use:
# default                            = yum upgrade
# security                           = yum --security upgrade
# security-severity:Critical         = yum --sec-severity=Critical upgrade
# minimal                            = yum --bugfix upgrade-minimal
# minimal-security                   = yum --security upgrade-minimal
# minimal-security-severity:Critical =  --sec-severity=Critical upgrade-minimal
update_cmd = default

# Whether a message should be emitted when updates are available,
# were downloaded, or applied.
update_messages = yes

# Whether updates should be downloaded when they are available.
download_updates = yes

# Whether updates should be applied when they are available.  Note
# that download_updates must also be yes for the update to be applied.
apply_updates = no

# Maximum amount of time to randomly sleep, in minutes.  The program
# will sleep for a random amount of time between 0 and random_sleep
# minutes before running.  This is useful for e.g. staggering the
# times that multiple systems will access update servers.  If
# random_sleep is 0 or negative, the program will run immediately.
# 6*60 = 360
random_sleep = 360
</code></pre></div>

<h3 id="yum-cron_service_startstopstatusenable_on_boot">Yum-Cron Service: Start/Stop/Status/Enable on Boot<a class="headerlink" href="#yum-cron_service_startstopstatusenable_on_boot" title="Permanent link">&para;</a></h3>
<p>Follow <a href="#service_control">Service Control</a> for more details. Use service <code>yum-cron.service</code><br />
For example:</p>
<div class="codehilite"><pre><span></span><code>systemctl <span class="nb">enable</span> yum-cron.service
</code></pre></div>

<h2 id="fix_locals_error_in_bash">Fix Locals Error In Bash<a class="headerlink" href="#fix_locals_error_in_bash" title="Permanent link">&para;</a></h2>
<p>Error :"bash: warning: setlocale: LC_CTYPE: cannot change locale (UTF-8): No such file or directory"</p>
<p>add these lines to <em>/etc/environment</em> (create it, if it doesn't exist):</p>
<div class="codehilite"><pre><span></span><code><span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
<span class="nv">LC_ALL</span><span class="o">=</span>en_US.UTF-8
</code></pre></div>

<h2 id="disable_ipv6">Disable IPv6<a class="headerlink" href="#disable_ipv6" title="Permanent link">&para;</a></h2>
<p>Append below lines in /etc/sysctl.conf:</p>
<div class="codehilite"><pre><span></span><code>net.ipv6.conf.all.disable_ipv6 <span class="o">=</span> <span class="m">1</span>
net.ipv6.conf.default.disable_ipv6 <span class="o">=</span> <span class="m">1</span>
</code></pre></div>

<p>To make the settings affective, execute :</p>
<div class="codehilite"><pre><span></span><code>sysctl -p
</code></pre></div>

<h2 id="fix_nfs_mount_on_boot_-_centos_7">Fix NFS mount on Boot - Centos 7<a class="headerlink" href="#fix_nfs_mount_on_boot_-_centos_7" title="Permanent link">&para;</a></h2>
<p>Append text to the end of /usr/lib/systemd/system/nfs-idmap.service</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>multi-user.target
</code></pre></div>

<p>Append text to the end of /usr/lib/systemd/system/nfs-lock.service</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span>Install<span class="o">]</span>
<span class="nv">WantedBy</span><span class="o">=</span>nfs.target
</code></pre></div>

<p>Enable related services</p>
<div class="codehilite"><pre><span></span><code>systemctl <span class="nb">enable</span> nfs-idmapd.service
systemctl <span class="nb">enable</span> rpc-statd.service
systemctl <span class="nb">enable</span> rpcbind.socket
</code></pre></div>

<p>Reboot the server</p>
<h2 id="set_timezone">Set TimeZone<a class="headerlink" href="#set_timezone" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>timedatectl set-timezone Asia/Jerusalem
</code></pre></div>

<h2 id="remove_old_kernels">Remove Old Kernels<a class="headerlink" href="#remove_old_kernels" title="Permanent link">&para;</a></h2>
<p>If your /boot partition is getting filled, you may wish to automatically remove old kernels. I find the best way to do this is to install the yum utilities package and then use a command to delete all but 2 kernels (just in case there is a problem with the latest one).</p>
<div class="codehilite"><pre><span></span><code>sudo yum install yum-utils -y
sudo package-cleanup --oldkernels --count<span class="o">=</span><span class="m">2</span>
</code></pre></div>

<h3 id="configure_yum_to_auto-remove_old_kernels">Configure yum to auto-remove old kernels<a class="headerlink" href="#configure_yum_to_auto-remove_old_kernels" title="Permanent link">&para;</a></h3>
<p>Edit /etc/yum.conf
Set the limit to desired value</p>
<div class="codehilite"><pre><span></span><code><span class="nv">installonly_limit</span><span class="o">=</span><span class="m">2</span>
</code></pre></div>
                
                  
                
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://3os.org/linux/centos7/";
      this.page.identifier =
        "linux/centos7/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//3os.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../SSH_Service_Security/" title="SSH Service Security" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                SSH Service Security
              </span>
            </div>
          </a>
        
        
          <a href="../centos8/" title="Centos 8" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Centos 8
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 3os.org @2018
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/fire1ce" target="_blank" rel="noopener" title="github" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://linkedin.com/in/stas-kosatuhin" target="_blank" rel="noopener" title="linkedin" class="md-footer-social__link fa fa-linkedin"></a>
    
      <a href="https://www.facebook.com/3os.org" target="_blank" rel="noopener" title="facebook" class="md-footer-social__link fa fa-facebook"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>